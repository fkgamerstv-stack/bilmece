<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,viewport-fit=cover" />
  <title>Mobil Clicker</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#06b6d4;--muted:#94a3b8}
    *{box-sizing:border-box;font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg),#071026);color:#e6eef6}
    .app{min-height:100vh;display:flex;flex-direction:column;align-items:center;padding:12px}
    header{width:100%;max-width:900px;display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
    h1{font-size:18px;margin:0}
    .card{background:rgba(255,255,255,0.03);border-radius:12px;padding:12px;box-shadow:0 6px 18px rgba(2,6,23,0.6);width:100%;max-width:900px}
    .score{font-size:34px;text-align:center;margin:6px 0}
    .big-btn{width:100%;padding:18px;border-radius:12px;text-align:center;font-size:26px;background:linear-gradient(180deg,var(--accent),#0aa3b3);color:#042023;border:0;box-shadow:0 8px 20px rgba(6,182,212,0.18);transition:transform .08s ease}
    .big-btn:active{transform:scale(.96)}
    .controls{display:flex;gap:8px;margin-top:8px}
    .controls button, .controls select{flex:1;padding:8px;border-radius:8px;border:0;background:rgba(255,255,255,0.04);color:var(--muted)}
    .shop{display:flex;flex-direction:column;gap:8px;margin-top:8px}
    .shop-item{display:flex;justify-content:space-between;align-items:center;padding:8px;border-radius:8px;background:rgba(255,255,255,0.02)}
    .small{font-size:12px;color:var(--muted)}
    footer{margin-top:10px;color:var(--muted);font-size:12px}
    .coin{position:absolute;font-weight:700;pointer-events:none;transform:translateY(0);opacity:1;animation:floatUp 900ms ease-out}
    @keyframes floatUp{from{transform:translateY(0) scale(1);opacity:1}to{transform:translateY(-140px) scale(.8);opacity:0}}
    .task-list{margin-top:8px;display:flex;flex-direction:column;gap:6px}
    .task{display:flex;justify-content:space-between;align-items:center;padding:6px;border-radius:8px;background:rgba(255,255,255,0.02)}
    .leaderboard{margin-top:8px}
    .badge{padding:4px 6px;border-radius:8px;background:rgba(255,255,255,0.03);font-size:12px}
    .panel-row{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    .panel{flex:1;min-width:180px;padding:8px;border-radius:8px;background:rgba(255,255,255,0.02)}
    .wheel{width:160px;height:160px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:6px solid rgba(255,255,255,0.03);margin:auto}
    @media(min-width:700px){.big-btn{font-size:34px;padding:30px;border-radius:16px}.score{font-size:44px}}
  </style>
</head>
<body>
  <div class="app">
    <header>
      <h1>Mobil Clicker</h1>
      <div class="small">Tıklamalar: <span id="clicksDisplay">0</span></div>
    </header>

    <div class="card" id="gameCard">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div>
          <div class="small">Puan</div>
          <div id="score" class="score">0</div>
        </div>
        <div style="text-align:right">
          <div class="small">Prestij: <span id="prestigeLevel">0</span></div>
          <div class="small">Çarpan: x<span id="prestigeMul">1</span></div>
        </div>
      </div>

      <button id="tap" class="big-btn">TAP</button>

      <div class="controls">
        <button id="reset">Sıfırla</button>
        <button id="save">Kaydet</button>
        <select id="theme" class="theme-select"><option value="dark">Koyu</option><option value="light">Açık</option><option value="retro">Retro</option></select>
      </div>

      <div class="panel-row">
        <div class="panel">
          <strong>Mağaza</strong>
          <div class="shop">
            <div class="shop-item"><div><strong>+1 Tık</strong><div class="small">Kalıcı</div></div><div class="small">Fiyat: <span id="priceUpgrade">50</span></div><button id="buyUpgrade">Satın Al</button></div>
            <div class="shop-item"><div><strong>Otomatik Seviye</strong><div class="small">Her saniye autoLevel puan</div></div><div class="small">Fiyat: <span id="priceAuto">200</span></div><button id="buyAuto">Satın Al</button></div>
            <div class="shop-item"><div><strong>x2 Boost (30s)</strong><div class="small">Süreli</div></div><div class="small">Fiyat: <span id="priceBoost">150</span></div><button id="buyBoost">Satın Al</button></div>
            <div class="shop-item"><div><strong>Mega Tık</strong><div class="small">Anlık +50</div></div><div class="small">Fiyat: <span id="priceMega">500</span></div><button id="buyMega">Satın Al</button></div>
            <div class="shop-item"><div><strong>Hızlı Otomatik</strong><div class="small">Azaltılmış interval</div></div><div class="small">Fiyat: <span id="priceSpeed">350</span></div><button id="buySpeed">Satın Al</button></div>
            <div class="shop-item"><div><strong>Çark Çevirme</strong><div class="small">Ücretsiz deneme/ücretli</div></div><button id="spinWheel">Çevir</button></div>
            <div class="shop-item"><div><strong>Sandık (Loot)</strong><div class="small">Her 200 tıkta düşer veya satın al</div></div><div class="small">Fiyat: <span id="priceBox">120</span></div><button id="openBox">Aç</button></div>
          </div>
        </div>

        <div class="panel">
          <strong>Görevler & Başarılar</strong>
          <div id="tasks" class="task-list"></div>
          <div id="achievements" class="small" style="margin-top:6px"></div>
        </div>

        <div class="panel">
          <strong>Etkinlikler</strong>
          <div id="eventBox" class="small">Hiç etkinlik yok.</div>
          <div style="margin-top:8px"><button id="startTimeTrial">1dk Zaman Yarışı</button></div>
        </div>
      </div>

      <div class="panel-row">
        <div class="panel"><strong>Liderlik</strong><div id="leaderboard" class="leaderboard small"></div><div style="margin-top:6px"><button id="saveScore">Skoru Kaydet</button></div></div>
        <div class="panel"><strong>Laboratuvar (Araştırma)</strong><div id="lab" class="small">Araştırma yok</div><div style="margin-top:6px"><button id="startResearch">Araştırma Başlat (prestij ile)</button></div></div>
        <div class="panel"><strong>Hikâye / Seviye</strong><div id="story" class="small">Seviye 1</div><div style="margin-top:6px"><button id="progressStory">İlerlet</button></div></div>
      </div>

      <div style="margin-top:8px;display:flex;gap:8px;align-items:center">
        <button id="prestigeBtn">Prestij Yap</button>
        <div class="small">(Prestij puanı kalıcı)</div>
        <button id="claimDaily" style="margin-left:auto">Günlük Ödül</button>
      </div>

    </div>

    <footer>Mobil uyumlu. Tüm özellikler lokal ve simülasyondur; sunucu istersen multiplayer/gerçek liderlik ekleyebiliriz.</footer>
  </div>

<script>
// ---------- ELEMENTLER ----------
const scoreEl = document.getElementById('score');
const tapBtn = document.getElementById('tap');
const clicksDisplay = document.getElementById('clicksDisplay');
const priceUpgradeEl = document.getElementById('priceUpgrade');
const priceAutoEl = document.getElementById('priceAuto');
const priceBoostEl = document.getElementById('priceBoost');
const priceMegaEl = document.getElementById('priceMega');
const priceSpeedEl = document.getElementById('priceSpeed');
const tasksEl = document.getElementById('tasks');
const leaderboardEl = document.getElementById('leaderboard');
const prestigeLevelEl = document.getElementById('prestigeLevel');
const prestigeMulEl = document.getElementById('prestigeMul');
const eventBox = document.getElementById('eventBox');
const achievementsEl = document.getElementById('achievements');
const labEl = document.getElementById('lab');
const storyEl = document.getElementById('story');

// ---------- OYUN DURUMU ----------
let state = {
  score:0, clicks:0, perClick:1,
  autoLevel:0, autoIntervalMs:1000,
  boosts:0, boostActiveUntil:0,
  prestige:0, prestigeMul:1,
  lastSave:Date.now(), theme:'dark',
  tasks:[], achievements:[], leaderboard:[],
  dailyStreak:0, lastDaily:0,
  boxes:0, spinTokens:1,
  research:{busy:false,ends:0,bonus:0},
  storyLevel:1,
  combo:{count:0,lastTap:0},
  timeTrial:{running:false,start:0,best:0}
};

const PRICES = {upgradeBase:50, autoBase:200, boostBase:150, megaBase:500, speedBase:350, box:120}

// ---------- SES ----------
const AudioCtx = window.AudioContext || window.webkitAudioContext; let audioCtx;
function playClick(){ try{ if(!audioCtx) audioCtx=new AudioCtx(); const o=audioCtx.createOscillator(); const g=audioCtx.createGain(); o.frequency.value=600+Math.random()*300; g.gain.value=0.04; o.connect(g); g.connect(audioCtx.destination); o.start(); o.stop(audioCtx.currentTime+0.06);}catch(e){} }

// ---------- UI GUNCELLE ----------
function updateUI(){
  scoreEl.textContent = Math.floor(state.score);
  clicksDisplay.textContent = state.clicks;
  priceUpgradeEl.textContent = Math.floor(PRICES.upgradeBase * Math.pow(1.6, state.perClick-1));
  priceAutoEl.textContent = Math.floor(PRICES.autoBase * Math.pow(2, state.autoLevel));
  priceBoostEl.textContent = PRICES.boostBase;
  priceMegaEl.textContent = PRICES.megaBase;
  priceSpeedEl.textContent = PRICES.speedBase;
  prestigeLevelEl.textContent = state.prestige; prestigeMulEl.textContent = state.prestigeMul.toFixed(2);
  renderTasks(); renderAchievements(); renderLeaderboard(); renderLab(); renderStory(); renderEvent();
}

// ---------- SAVE/LOAD ----------
function save(){ state.lastSave=Date.now(); localStorage.setItem('clicker_full_v1', JSON.stringify(state)); }
function load(){ const raw=localStorage.getItem('clicker_full_v1'); if(raw){ try{ const s=JSON.parse(raw); state=Object.assign(state,s); const delta=Math.floor((Date.now()-state.lastSave)/1000); if(delta>0 && state.autoLevel>0){ state.score += delta*state.autoLevel*state.prestigeMul; } }catch(e){console.warn(e)} } }

// ---------- COIN EFFECT ----------
function spawnCoin(x,y,txt){ const coin=document.createElement('div'); coin.className='coin'; coin.style.left=(x-16)+'px'; coin.style.top=(y-16)+'px'; coin.textContent=txt; document.body.appendChild(coin); setTimeout(()=>coin.remove(),900); }

// ---------- TAP (COMBO, TIMETRIAL) ----------
function tap(e){ const now=Date.now(); // combo
  if(now - state.combo.lastTap < 3000){ state.combo.count += 1; } else { state.combo.count = 1; }
  state.combo.lastTap = now;
  let comboMul = 1 + Math.min(3, Math.floor(state.combo.count/10)*0.5); // her 10 tıkta +0.5 up to
  const boostMul = Date.now() < state.boostActiveUntil ? 2 : 1;
  const gain = state.perClick * state.prestigeMul * comboMul * boostMul;
  state.score += gain; state.clicks += 1; updateUI(); playClick();
  const rect = tapBtn.getBoundingClientRect(); spawnCoin(rect.left+rect.width/2, rect.top+rect.height/2, '+'+Math.floor(gain));
  // time trial
  if(state.timeTrial.running){ const elapsed=(Date.now()-state.timeTrial.start)/1000; if(elapsed>=60){ endTimeTrial(); } }
}

// ---------- SHOP ----------
function buyUpgrade(){ const price=Math.floor(PRICES.upgradeBase * Math.pow(1.6, state.perClick-1)); if(state.score>=price){ state.score-=price; state.perClick+=1; unlockAchievement('Yükseltici'); save(); updateUI(); } }
function buyAuto(){ const price=Math.floor(PRICES.autoBase * Math.pow(2, state.autoLevel)); if(state.score>=price){ state.score-=price; state.autoLevel+=1; save(); updateUI(); } }
function buyBoost(){ const price=PRICES.boostBase; if(state.score>=price){ state.score-=price; state.boostActiveUntil=Date.now()+30000; save(); updateUI(); } }
function buyMega(){ const price=PRICES.megaBase; if(state.score>=price){ state.score-=price; state.score += 50 * state.prestigeMul; save(); updateUI(); spawnCoin(window.innerWidth/2, window.innerHeight/2, '+50'); } }
function buySpeed(){ const price=PRICES.speedBase; if(state.score>=price){ state.score-=price; state.autoIntervalMs = Math.max(200, state.autoIntervalMs-200); restartAuto(); save(); updateUI(); } }
function openBox(){ // lootbox
  if(state.clicks < 200 && state.score < PRICES.box){ alert('Sandık açmak için 200 tıklamaya veya ' + PRICES.box + ' puana ihtiyacın var.'); return; }
  // rastgele ödül
  const roll = Math.random(); let txt=''; if(roll<0.5){ const amt=20; state.score += amt * state.prestigeMul; txt = '+'+amt; }
  else if(roll<0.8){ state.boostActiveUntil = Date.now()+30000; txt = 'Boost!'; }
  else if(roll<0.95){ state.spinTokens += 1; txt = 'Çark Tokeni'; }
  else { state.prestige += 1; state.prestigeMul = 1 + state.prestige*0.25; txt = 'Prestij!'; }
  spawnCoin(window.innerWidth/2, window.innerHeight/2, txt); save(); updateUI(); }

// ---------- WHEEL / SPIN ----------
function spinWheel(){ if(state.spinTokens<=0 && state.score < 100){ alert('Çark için token yok veya 100 puan öde.'); return; }
  if(state.spinTokens>0) state.spinTokens -=1; else state.score -=100;
  const r=Math.random(); if(r<0.5){ state.score += 50*state.prestigeMul; alert('Çark: +50!'); }
  else if(r<0.8){ state.boostActiveUntil = Date.now()+30000; alert('Çark: Boost!'); }
  else if(r<0.95){ state.spinTokens +=2; alert('Çark: +2 token!'); }
  else { state.prestige +=1; state.prestigeMul = 1 + state.prestige*0.25; alert('Çark: Prestij kazandın!'); }
  save(); updateUI(); }

// ---------- REKLAM (SIM) ----------
function watchAd(){ const btn=document.getElementById('watchAd'); btn && (btn.disabled=true); setTimeout(()=>{ state.score += 100 * state.prestigeMul; save(); updateUI(); btn && (btn.disabled=false); alert('Reklam bitti: +100'); },3000); }

// ---------- AUTO ----------
let autoTimer=null; function restartAuto(){ if(autoTimer) clearInterval(autoTimer); autoTimer=setInterval(()=>{ if(state.autoLevel>0){ const amt = state.autoLevel * state.prestigeMul * (Date.now()<state.boostActiveUntil?2:1); state.score += amt; updateUI(); } }, state.autoIntervalMs); }

// ---------- TASKS / ACHIEVEMENTS ----------
function seedTasks(){ if(state.tasks && state.tasks.length) return; state.tasks = [ {id:1,text:'10 tık',goal:10,prog:0,rew:50,done:false}, {id:2,text:'1 yükseltme',goal:1,prog:0,rew:120,done:false}, {id:3,text:'100 puan',goal:100,prog:0,rew:200,done:false} ]; }
function renderTasks(){ tasksEl.innerHTML=''; state.tasks.forEach(t=>{ const d=document.createElement('div'); d.className='task'; d.innerHTML = `<div>${t.text} <div class="small">(${t.prog}/${t.goal})</div></div>`; const btn=document.createElement('button'); btn.textContent = t.done? 'Alındı':'Al'; btn.disabled = !t.done; btn.addEventListener('click', ()=>{ if(t.done){ state.score+=t.rew; t.done=true; save(); updateUI(); } }); d.appendChild(btn); tasksEl.appendChild(d); }); }
function checkTasks(){ state.tasks.forEach(t=>{ if(t.id===1) t.prog = Math.min(t.goal, state.clicks); if(t.id===2) t.prog = Math.min(t.goal, state.perClick-1); if(t.id===3) t.prog = Math.min(t.goal, Math.floor(state.score)); if(t.prog>=t.goal) t.done = true; }); }
function unlockAchievement(key){ if(state.achievements.includes(key)) return; state.achievements.push(key); alert('Başarı açıldı: ' + key); save(); }
function renderAchievements(){ achievementsEl.textContent = 'Başarılar: ' + (state.achievements.length? state.achievements.join(', '): 'Yok'); }

// ---------- LEADERBOARD ----------
function saveScore(){ const name = prompt('İsminiz:'); if(!name) return; state.leaderboard.push({name,score:Math.floor(state.score)}); state.leaderboard.sort((a,b)=>b.score-a.score); state.leaderboard = state.leaderboard.slice(0,10); save(); updateUI(); }
function renderLeaderboard(){ if(state.leaderboard.length===0){ leaderboardEl.innerHTML='<div class="small">Liderlik boş</div>'; return; } leaderboardEl.innerHTML = '<ol>' + state.leaderboard.map(l=>`<li>${l.name} — ${l.score}</li>`).join('') + '</ol>'; }

// ---------- PRESTIJ ----------
function doPrestige(){ if(state.score < 1000){ alert('Prestij için 1000 puan gerekli'); return; } if(!confirm('Prestij yap: sıfırlanacak ama kalıcı bonus alacaksın.')) return; state.prestige +=1; state.prestigeMul = 1 + state.prestige*0.25; state.score=0; state.clicks=0; state.perClick=1; state.autoLevel=0; state.autoIntervalMs=1000; save(); updateUI(); }

// ---------- THEME ----------
function applyTheme(t){ state.theme=t; if(t==='light'){ document.documentElement.style.setProperty('--bg','#f5f7fb'); document.documentElement.style.setProperty('--card','#fff'); document.documentElement.style.setProperty('--accent','#06b6d4'); document.documentElement.style.setProperty('--muted','#475569'); } else if(t==='retro'){ document.documentElement.style.setProperty('--bg','#1b1b1b'); document.documentElement.style.setProperty('--accent','#f59e0b'); document.documentElement.style.setProperty('--muted','#f3e8ff'); } else { document.documentElement.style.setProperty('--bg','#0f1724'); document.documentElement.style.setProperty('--accent','#06b6d4'); document.documentElement.style.setProperty('--muted','#94a3b8'); } save(); }

// ---------- EVENTS (RANDOM MINI EVENTS) ----------
let currentEvent=null; function spawnEvent(){ const r=Math.random(); if(r<0.4){ currentEvent = {type:'hyper',text:'30s Hyper Click (x3)',ends:Date.now()+30000}; state.boostActiveUntil = Math.max(state.boostActiveUntil, Date.now()+30000); }
  else if(r<0.7){ currentEvent = {type:'box',text:'Şans Kutusu belirdi! Aç topla',ends:Date.now()+20000}; }
  else { currentEvent = {type:'npc',text:'NPC görev veriyor: 50 tık yap',ends:Date.now()+25000}; }
  renderEvent(); setTimeout(()=>{ if(currentEvent && Date.now()>=currentEvent.ends) currentEvent=null; renderEvent(); },20000);
}
function renderEvent(){ eventBox.textContent = currentEvent? currentEvent.text : 'Hiç etkinlik yok.'; }
setInterval(()=>{ if(!currentEvent && Math.random()<0.25) spawnEvent(); },1000*30);

// ---------- TIME TRIAL ----------
function startTimeTrial(){ if(state.timeTrial.running) return; state.timeTrial.running=true; state.timeTrial.start=Date.now(); alert('1 dakika başladı — tıklamaya başla!'); }
function endTimeTrial(){ state.timeTrial.running=false; const t = Date.now(); const clicksNow = state.clicks; const scoreNow = Math.floor(state.score);
  const result = prompt('Yarış bitti! Skorun: ' + clicksNow + ' tık. Kayıt için isim gir:'); if(result) { state.leaderboard.push({name:result,score:clicksNow}); state.leaderboard.sort((a,b)=>b.score-a.score); state.leaderboard=state.leaderboard.slice(0,10);} save(); updateUI(); }

// ---------- LAB / RESEARCH ----------
function startResearch(){ if(state.research.busy){ alert('Araştırma zaten devam ediyor'); return; } if(state.prestige<1){ alert('Araştırma başlatmak için en az 1 prestij gerekli'); return; } state.research.busy=true; state.research.ends = Date.now() + 1000*30; labEl.textContent = 'Araştırma devam ediyor...'; setTimeout(()=>{ state.research.busy=false; state.research.bonus += 0.05; labEl.textContent = 'Araştırma tamamlandı! Kalıcı %5 gelir bonusu'; save(); updateUI(); },30000); }
function renderLab(){ labEl.textContent = state.research.busy? 'Araştırma devam ediyor...' : ('Kalıcı bonus: ' + (state.research.bonus*100).toFixed(0) + '%'); }

// ---------- STORY / PROGRESSION ----------
function progressStory(){ state.storyLevel +=1; state.score += 50 * state.storyLevel; unlockAchievement('Hikaye ' + state.storyLevel); save(); updateUI(); }
function renderStory(){ storyEl.textContent = 'Seviye ' + state.storyLevel; }

// ---------- DAILY BONUS ----------
function claimDaily(){ const today = new Date().toDateString(); if(localStorage.getItem('lastDaily')===today){ alert('Bugün zaten alındı'); return; } const last = localStorage.getItem('streakDate'); if(last && new Date(last).getTime() === new Date(Date.now()-86400000).getTime()){ state.dailyStreak = (state.dailyStreak || 0) +1; } else { state.dailyStreak = 1; } localStorage.setItem('streakDate', new Date().toString()); localStorage.setItem('lastDaily', today); const rewards = [50,120,200,300,1000]; const r = rewards[Math.min(state.dailyStreak-1,rewards.length-1)]; state.score += r; alert('Günlük ödül: +' + r); save(); updateUI(); }

// ---------- MINI GLOBAL EVENT (SIM) ----------
let globalCounter = parseInt(localStorage.getItem('globalCounter')||'0'); setInterval(()=>{ globalCounter += Math.floor(Math.random()*10); localStorage.setItem('globalCounter',globalCounter); },1000*10);

// ---------- EVENT: RANDOM BOT MESSAGES ----------
const botPhrases = ['Daha hızlı!', 'Combo yakala!', 'Prestij yapmaya hazır mısın?', 'Sandık aç!']; setInterval(()=>{ const p = botPhrases[Math.floor(Math.random()*botPhrases.length)]; console.log('BOT:',p); },1000*20);

// ---------- EVENT HANDLERS ----------
document.getElementById('buyUpgrade').addEventListener('click', buyUpgrade);
document.getElementById('buyAuto').addEventListener('click', buyAuto);
document.getElementById('buyBoost').addEventListener('click', buyBoost);
document.getElementById('buyMega').addEventListener('click', buyMega);
document.getElementById('buySpeed').addEventListener('click', buySpeed);
document.getElementById('openBox').addEventListener('click', openBox);
document.getElementById('spinWheel').addEventListener('click', spinWheel);
document.getElementById('watchAd')?.addEventListener('click', watchAd);
document.getElementById('reset').addEventListener('click', ()=>{ if(confirm('Sıfırlansın mı?')){ const keepPrest = state.prestige; state = {score:0,clicks:0,perClick:1,autoLevel:0,autoIntervalMs:1000,boosts:0,boostActiveUntil:0,prestige:keepPrest,prestigeMul:1,lastSave:Date.now(),theme:state.theme,tasks:state.tasks,achievements:state.achievements,leaderboard:state.leaderboard,dailyStreak:state.dailyStreak,lastDaily:state.lastDaily,boxes:state.boxes,spinTokens:state.spinTokens,research:state.research,storyLevel:state.storyLevel,combo:state.combo,timeTrial:state.timeTrial}; save(); updateUI(); } });
document.getElementById('save').addEventListener('click', ()=>{ save(); alert('Kaydedildi'); });
document.getElementById('prestigeBtn').addEventListener('click', doPrestige);
document.getElementById('theme').addEventListener('change', (e)=>{ applyTheme(e.target.value); updateUI(); });
document.getElementById('claimDaily').addEventListener('click', claimDaily);
document.getElementById('startTimeTrial').addEventListener('click', startTimeTrial);
document.getElementById('saveScore').addEventListener('click', saveScore);
document.getElementById('startResearch').addEventListener('click', startResearch);
document.getElementById('progressStory').addEventListener('click', progressStory);

tapBtn.addEventListener('touchstart', (e)=>{ tap(e); e.preventDefault(); });
tapBtn.addEventListener('click', tap);

// ---------- DONGU ----------
seedTasks(); load(); updateUI(); restartAuto(); setInterval(()=>{ checkTasks(); updateUI(); save(); },5000);

// İlk açılış tutorial
if(!localStorage.getItem('clicker_seen_full')){ alert('Yeni genişletilmiş sürüm: Görevler, sandıklar, çark, günlük ödül, araştırma ve daha fazlası eklendi. İyi oyunlar!'); localStorage.setItem('clicker_seen_full','1'); }

</script>
</body>
</html>
